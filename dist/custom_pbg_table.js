!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.custom_pbg_table=n():e.custom_pbg_table=n()}(window,(function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=12)}({12:function(e,n){function t(e,n){var t,r=e.reduce((function(e,t){return e+t[n].value}),0)/e.length;return console.log(e[0][n].rendered),e[0][n].rendered?e[0][n].rendered.includes("$")?"$"+((t=r.toFixed(0).toString().split("."))[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")):e[0][n].rendered.includes("%")?(100*r).toFixed(1)+"%":e[0][n].rendered.includes("x")?r.toFixed(1)+"x":r.toFixed(1):""}looker.plugins.visualizations.add({id:"thrive_table",label:"Company Detail",options:{font_size:{type:"string",label:"Font Size",values:[{Large:"large"},{Small:"small"}],display:"radio",default:"large"}},create:function(e,n){e.innerHTML="\n        <style>\n            * {\n              box-sizing: border-box;\n            }\n\n            html, body, #vis {\n              height: 100%;\n              margin: 0;\n              padding: 0;\n              border: none;\n            }\n\n            #vis {\n              height: 100%;\n              width: 100%;\n              margin: 0;\n              padding-left: 22px;\n              padding-right: 22px;\n            }\n\n            .thrive-table {\n                width: 100%;\n                border-collapse: collapse;\n                border-left: none;\n                border-right: none;\n                border-top: 1px solid #CFD0CF;\n                padding: 20px\n            }\n\n            .thrive-table thead tr th {\n                font: 13px/16px Helvetica;\n                color: #fff;\n                text-align:left;\n                background-color: #7F7574;\n                padding: 8px;\n                text-align: left; \n                vertical-align: middle;\n            }\n\n            .thrive-table thead tr th:not(:first-child) {\n                text-align: center; \n                border-left: 2px solid #fff\n            }\n\n            td {\n                height: inherit;\n                border-left: none;\n                border-right: none;\n                border-top: none;\n                padding: 5px;\n                font: 13px/16px Helvetica;\n            }\n\n            tbody tr {\n                border-bottom: 1px solid #CFD0CF;\n                border-left: none;\n                border-right: none;\n                border-top: none;\n            }\n\n            thead, thead tr th, thead tr {\n                border: none\n            }\n\n            th > div {\n                padding-bottom: 11px;\n                padding-top: 12px;\n                border-bottom: 1px solid #CFD0CF;\n                height: 100%\n            }\n\n            th {\n                height: inherit;\n            }\n\n            th:not(:last-child) > div {\n                margin-right: 50px;\n            }\n\n            td:not(:last-child) > div {\n                margin-right: 50px;\n            }\n\n            tbody > tr > td:first-child: {\n                border-bottom: none;\n                border-top: none;\n            }\n\n            tbody tr {\n                background-color: #E6E6E6;\n            }\n\n            tbody tr:nth-child(even) {\n                background-color: #ffffff;\n            }\n\n            table {\n                padding-left: 22px\n            }\n\n            .subtotal-row {\n                border-top: 1px solid black;\n            }\n\n            .subtotal-row td {\n                font-weight: bold;\n                font-style: italic;\n            }\n\n            tr.last {\n                border-bottom: 1px solid black;\n            }\n        </style>\n      ";var t=e.appendChild(document.createElement("table"));t.className="thrive-table";for(var r=t.appendChild(document.createElement("thead")).appendChild(document.createElement("tr")),o=["REV Growth '21-'22 Bin","Name","Market Cap ($M)","TEV ($M)","Share Price (Last Close)","Share Price (% of 52W High)","TEV / REV Run Rate","TEV / REV '22E","TEV / REV '23E","1 Yr. Fwd REV Growth","EBIDTA Margin (CY '22E)","Rule of 40","S&M Payback (Months)"],i=0;i<o.length;i++)r.appendChild(document.createElement("th")).innerHTML=o[i];this.__tableBody=t.appendChild(document.createElement("tbody"))},updateAsync:function(e,n,r,o,i,d){var a=this;if(this.clearErrors(o.fields),this.__tableBody.innerHTML="",0!=o.fields.dimensions.length){console.log(o);var l,c=["current_company_metrics.revenue_growth_bin","current_company_metrics.companyname","current_company_metrics._marketcap","current_company_metrics._tev","current_company_metrics._share_price","current_company_metrics._share_price_of_52","current_company_metrics.tev_revenue_run_rate_metric","current_company_metrics.tev_revenue_2022E_metric","current_company_metrics.tev_revenue_2023E_metric","current_company_metrics._revenue_growth_yoy_fwd","current_company_metrics.EBIDTA_2022_cy_est_margin","current_company_metrics.rule_of_40","current_company_metrics.sm_payback"],p=(l="current_company_metrics.revenue_growth_bin",e.reduce((function(e,n){return e[n[l].rendered]||(e[n[l].rendered]=[]),e[n[l].rendered].push(n),e}),{})),u=Object.values(p);console.log(u);for(var s=function(e){u[e].map((function(n,t){for(var r=a.__tableBody.appendChild(document.createElement("tr")),o=0;o<c.length;o++){var i=r.appendChild(document.createElement("td"));0===o&&0===t||0!==o?n[c[o]].rendered?i.innerHTML=n[c[o]].rendered:i.innerHTML=n[c[o]].value:i.innerHTML=""}t===u[e].length-1&&(r.className="last")}));var n=a.__tableBody.appendChild(document.createElement("tr"));n.className="subtotal-row";var r=n.appendChild(document.createElement("td"));r.colSpan="2",r.innerHTML="Group Average";for(var o=2;o<c.length;o++)n.appendChild(document.createElement("td")).innerHTML=t(u[e],c[o])},m=0;m<u.length;m++)s(m);d()}else this.addError({title:"No Dimensions",message:"This chart requires dimensions."})}})}})}));